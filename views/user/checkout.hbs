<!doctype html>
<html class="no-js" lang="en">


<!-- Mirrored from template.hasthemes.com/daxone/daxone/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 24 Feb 2024 10:44:50 GMT -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>checkout</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.png">

    <!-- Add SweetAlert CSS and JS files -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>

    <style>
        .error-message {
            color: red;
        }
    </style>
    <!-- CSS
	============================================ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/vendor/bootstrap.min.css">
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="assets/css/vendor/line-awesome.css">
    <link rel="stylesheet" href="assets/css/vendor/themify.css">
    <!-- othres CSS -->
    <link rel="stylesheet" href="assets/css/plugins/animate.css">
    <link rel="stylesheet" href="assets/css/plugins/owl-carousel.css">
    <link rel="stylesheet" href="assets/css/plugins/slick.css">
    <link rel="stylesheet" href="assets/css/plugins/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/plugins/jquery-ui.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>
    <div class="main-wrapper">
      <header class="header-area transparent-bar sticky-bar pt-10">
            <div class="main-header-wrap">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-2 col-lg-3">
                            <div class="logo">
                                <a href="/"><img src="/assets/images/logo/logo-1.png" alt="logo"></a>
                            </div>
                        </div>
                        <div class="col-xl-7 col-lg-6">
                            <div
                                class="main-menu menu-common-style menu-lh-1 menu-margin-4 menu-font-3 ml-20 menu-others-page">
                                <nav>
                                    <ul>
                                        {{!--This is fake line --}}
                                        <li style=""><a href="contact.html "><img
                                                    src="/assets/css/vendor/bootstarap.min.css" alt=""></a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>

                        <div class="col-xl-3 col-lg-3 position-relative">
                            <div class="header-right-wrap mt-10">
                                <div class="header-wishlist">
                                    <a href="/wishlist"><i class="la la-heart-o icon"></i></a>
                                </div>
                                <div class="cart-wrap common-style ml-40">
                                    <button class="cart-active cart-3" onclick="navigateToCart()">
                                        <i class="la la-shopping-cart icon"></i>
                                    </button>
                                </div>
                                <div class="header-login ml-40">
                                    <a href="/profile"><i class="la la-user icon"></i></a>
                                </div>
                                <script>
                                    function navigateToCart() {
                                        window.location.href = '/cart';
                                    }
                                </script>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- main-search start -->
                <div class="main-search-active">
                    <div class="sidebar-search-icon">
                        <button class="search-close"><span class="la la-close"></span></button>
                    </div>
                    <div class="sidebar-search-input">
                        <form>
                            <div class="form-search">
                                <input id="search" class="input-text" value="" placeholder="Search Now" type="search">
                                <button>
                                    <i class="la la-search"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="header-small-mobile">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <div class="mobile-logo">
                                <a href="/">
                                    <img alt="" src="/assets/images/logo/logo-1.png">
                                </a>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="header-right-wrap">
                                <div class="cart-wrap common-style">
                                    <button class="cart-active" id="cartButton">
                                        <i class="la la-shopping-cart"></i>

                                        {{!-- <span class="count-style"></span> --}}
                                    </button>
                                    <script>
                                        document.addEventListener("DOMContentLoaded", function () {
                                            const cartButton = document.getElementById("cartButton");
                                            if (cartButton) {
                                                cartButton.addEventListener("click", function () {
                                                    window.location.href = '/cart';
                                                });
                                            }
                                        });

                                    </script>
                                    {{!-- <div class="shopping-cart-content">
                                        <div class="shopping-cart-top">
                                            <h4>Your Cart</h4>
                                            <a class="cart-close" href="#"><i class="la la-close"></i></a>
                                        </div>
                                        <ul>
                                            <li class="single-shopping-cart">
                                                <div class="shopping-cart-img">
                                                    <a href="#"><img alt="" src="/assets/images/cart/cart-1.jpg"></a>
                                                    <div class="item-close">
                                                        <a href="#"><i class="sli sli-close"></i></a>
                                                    </div>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Golden Easy Spot Chair.</a></h4>
                                                    <span>$99.00</span>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="la la-trash"></i></a>
                                                </div>
                                            </li>
                                            <li class="single-shopping-cart">
                                                <div class="shopping-cart-img">
                                                    <a href="#"><img alt="" src="/assets/images/cart/cart-2.jpg"></a>
                                                    <div class="item-close">
                                                        <a href="#"><i class="sli sli-close"></i></a>
                                                    </div>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Golden Easy Spot Chair.</a></h4>
                                                    <span>$99.00</span>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="la la-trash"></i></a>
                                                </div>
                                            </li>
                                            <li class="single-shopping-cart">
                                                <div class="shopping-cart-img">
                                                    <a href="#"><img alt="" src="/assets/images/cart/cart-3.jpg"></a>
                                                    <div class="item-close">
                                                        <a href="#"><i class="sli sli-close"></i></a>
                                                    </div>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Golden Easy Spot Chair.</a></h4>
                                                    <span>$99.00</span>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="la la-trash"></i></a>
                                                </div>
                                            </li>
                                        </ul>
                                        <div class="shopping-cart-bottom">
                                            <div class="shopping-cart-total">
                                                <h4>Subtotal <span class="shop-total">$290.00</span></h4>
                                            </div>
                                            <div class="shopping-cart-btn btn-hover default-btn text-center">
                                                <a class="black-color" href="checkout.html">Continue to Chackout</a>
                                            </div>
                                        </div>
                                    </div> --}}
                                </div>
                                <div class="mobile-off-canvas">
                                    <a class="mobile-aside-button" href="#"><i class="la la-navicon la-2x"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="mobile-off-canvas-active">
            <a class="mobile-aside-close"><i class="la la-close"></i></a>
            <div class="header-mobile-aside-wrap">

                {{!-- <div class="mobile-search">

                    <a href="/profile"><i class="fa-solid fa-user"></i>{{this.name}}</a>
                    <form class="search-form" action="#">
                        <input type="text" placeholder="Search entire store…">
                        <button class="button-search"><i class="la la-search"></i></button>
                    </form>
                </div>

                <div>
                    <a href="">Please register</a>
                </div> --}}

                <div class="mobile-menu-wrap">
                    <!-- mobile menu start -->
                    <div class="mobile-navigation">
                        <!-- mobile menu navigation start -->
                        <nav>
                            <ul class="mobile-menu">
                                <li class="menu-item-has-children"><a href="/">Home</a>
                                    {{!-- <ul class="dropdown">
                                        <li><a href="index.html">Home version 1 </a></li>
                                        <li><a href="index-2.html">Home version 2 </a></li>
                                        <li><a href="index-3.html">Home version 3 </a></li>
                                        <li><a href="index-4.html">Home version 4 </a></li>
                                        <li><a href="index-5.html">Home version 5 </a></li>
                                        <li><a href="index-6.html">Home version 6 </a></li>
                                        <li><a href="index-7.html">Home version 7 </a></li>
                                        <li><a href="index-8.html">Home version 8 </a></li>
                                        <li><a href="index-9.html">Home version 9 </a></li>
                                        <li><a href="index-10.html">Home version 10 </a></li>
                                    </ul> --}}
                                </li>
                                <li class="menu-item-has-children "><a href="/shop">shop</a>
                                    {{!-- <ul class="dropdown">
                                        <li class="menu-item-has-children"><a href="#">shop layout</a>
                                            <ul class="dropdown">
                                                <li><a href="shop.html">standard grid style</a></li>
                                                <li><a href="shop-2.html">standard style 2</a></li>
                                                <li><a href="shop-2-col.html">shop 2 column</a></li>
                                                <li><a href="shop-no-sidebar.html">shop no sidebar</a></li>
                                                <li><a href="shop-fullwide.html">shop fullwide</a></li>
                                                <li><a href="shop-fullwide-no-sidebar.html">fullwide no sidebar </a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children"><a href="#">shop list layout</a>
                                            <ul class="dropdown">
                                                <li><a href="shop-list.html">list style</a></li>
                                                <li><a href="shop-list-2col.html">list 2 column</a></li>
                                                <li><a href="shop-list-no-sidebar.html">list no sidebar</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children"><a href="#">product details</a>
                                            <ul class="dropdown">
                                                <li><a href="product-details.html">standard style</a></li>
                                                <li><a href="product-details-2.html">standard style 2</a></li>
                                                <li><a href="product-details-tab1.html">tab style 1</a></li>
                                                <li><a href="product-details-tab2.html">tab style 2</a></li>
                                                <li><a href="product-details-tab3.html">tab style 3 </a></li>
                                                <li><a href="product-details-gallery.html">gallery style </a></li>
                                                <li><a href="product-details-sticky.html">sticky style</a></li>
                                                <li><a href="product-details-slider.html">slider style</a></li>
                                                <li><a href="product-details-affiliate.html">Affiliate style</a></li>
                                            </ul>
                                        </li>
                                    </ul> --}}
                                </li>
                                {{!-- <li class="menu-item-has-children"><a href="#">Pages</a>
                                    <ul class="dropdown">
                                        <li><a href="about-us.html">about us </a></li>
                                        <li><a href="/cart">cart page </a></li>
                                        <li><a href="checkout.html">checkout </a></li>
                                        <li><a href="compare.html">compare </a></li>
                                        <li><a href="wishlist.html">wishlist </a></li>
                                        <li><a href="my-account.html">my account </a></li>
                                        <li><a href="contact.html">contact us </a></li>
                                        <li><a href="login-register.html">login/register </a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children "><a href="#">Blog</a>
                                    <ul class="dropdown">
                                        <li><a href="blog.html">standard style </a></li>
                                        <li><a href="blog-2col.html">blog 2 column </a></li>
                                        <li><a href="blog-sidebar.html">blog sidebar </a></li>
                                        <li><a href="blog-details.html">blog details </a></li>
                                    </ul>
                                </li> --}}
                                <li><a href="/wishlist">Wishlist</a></li>
                                <li><a href="/cart">Cart</a></li>
                            </ul>
                        </nav>
                        <!-- mobile menu navigation end -->
                    </div>
                    <!-- mobile menu end -->
                </div>
                <div class="mobile-curr-lang-wrap">
                    {{!-- <div class="single-mobile-curr-lang">
                        <a class="mobile-language-active" href="#">Language <i class="la la-angle-down"></i></a>
                        <div class="lang-curr-dropdown lang-dropdown-active">
                            <ul>
                                <li><a href="#">English (US)</a></li>
                                <li><a href="#">English (UK)</a></li>
                                <li><a href="#">Spanish</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="single-mobile-curr-lang">
                        <a class="mobile-currency-active" href="#">Currency <i class="la la-angle-down"></i></a>
                        <div class="lang-curr-dropdown curr-dropdown-active">
                            <ul>
                                <li><a href="#">USD</a></li>
                                <li><a href="#">EUR</a></li>
                                <li><a href="#">Real</a></li>
                                <li><a href="#">BDT</a></li>
                            </ul>
                        </div>
                    </div> --}}
                    <div class="single-mobile-curr-lang">
                        <a class="mobile-account-active" href="#">My Account <i class="la la-angle-down"></i></a>
                        <div class="lang-curr-dropdown account-dropdown-active">
                            <ul>
                                <li><a href="/logout">Logout</a></li>
                                {{!-- <li><a href="#">Creat Account</a></li> --}}
                                <li><a href="/profile">My Account</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="mobile-social-wrap">
                    <a class="facebook" href="#"><i class="ti-facebook"></i></a>
                    <a class="twitter" href="#"><i class="ti-twitter-alt"></i></a>
                    {{!-- <a class="pinterest" href="#"><i class="ti-pinterest"></i></a> --}}
                    <a class="instagram" href="#"><i class="ti-instagram"></i></a>
                    <a class="google" href="#"><i class="ti-google"></i></a>
                </div>
            </div>
        </div>
        <div class="breadcrumb-area bg-img" style="background-image:url(assets/images/bg/breadcrumb.jpg);">
            {{!-- <div class="container">
                <div class="breadcrumb-content text-center">
                    <h2>checkout page</h2>
                    <ul>
                        <li>
                            <a href="index.html">Home</a>
                        </li>
                        <li class="active">checkout </li>
                    </ul>
                </div>
            </div> --}}
        </div>
        <div class="checkout-main-area pt-90 pb-90">
            <div class="container">
                <div class="customer-zone mb-20">
                    {{!-- <p class="cart-page-title">Returning customer? <a href="/login-register">Click here to
                            login</a></p> --}}
                    {{!-- <div class="checkout-login-info">
                        <p>If you have shopped with us before, please enter your details in the boxes below. If you are
                            a new customer, please proceed to the Billing & Shipping section.</p>
                        <form action="#">
                            <div class="row">
                                <div class="col-lg-6 col-md-6">
                                    <div class="sin-checkout-login">
                                        <label>Username or email address <span>*</span></label>
                                        <input type="text" name="user-name">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="sin-checkout-login">
                                        <label>Passwords <span>*</span></label>
                                        <input type="password" name="user-password">
                                    </div>
                                </div>
                            </div>
                            <div class="button-remember-wrap">
                                <button class="button" type="submit">Login</button>
                                <div class="checkout-login-toggle-btn">
                                    <input type="checkbox">
                                    <label>Remember me</label>
                                </div>
                            </div>
                            <div class="lost-password">
                                <a href="#">Lost your password?</a>
                            </div>
                        </form>
                        <div class="checkout-login-social">
                            <span>Login with:</span>
                            <ul>
                                <li><a href="#">Facebook</a></li>
                                <li><a href="#">Twitter</a></li>
                                <li><a href="#">Google</a></li>
                            </ul>
                        </div>
                    </div> --}}
                </div>

                <div class="customer-zone mb-20">
                    <p class="cart-page-title">Have a coupon? <a class="checkout-click3" href="#">Click here to enter
                            your code</a></p>
                    <div class="checkout-login-info3">
                        <form action="#" id="coupon-form">
                            <input type="text" id="coupon-code-input" placeholder="Coupon code">
                            <input type="submit" value="Apply Coupon">
                            <input type="submit" id="remove-coupon-btn" value="Remove Coupon">
                            <p id="error-message" style="color: red;"></p>
                        </form>
                    </div>
                </div>


                <div class="checkout-wrap pt-30">
                    <div class="row">
                        <div class="col-lg-7">
                            <div class="billing-info-wrap mr-50">
                                <h3>Billing Details</h3>

                                <div class="row">


                                    <div class="col-lg-12">
                                        {{#if address}}
                                        <div class="billing-select mb-20">
                                            <label>Select Address</label>
                                            {{#each address}}
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="address"
                                                    id="address{{this._id}}" value="{{this._id}}" {{#if this._id}}
                                                    checked {{/if}}>
                                                <label class="form-check-label" for="address{{@index}}">
                                                    {{this.firstName}} {{this.lastName}} - {{this.address}},
                                                    {{this.city}}, {{this.state}}, {{this.postcode}}
                                                </label>
                                            </div>
                                            {{/each}}
                                        </div>
                                        {{else}}
                                        <p>No addresses available. Please add a new address.</p>
                                        {{/if}}
                                    </div>




                                </div>

                                <div class="row" id="addressDetails">
                                    <!-- Address details will be displayed here -->
                                </div>


                                {{!-- <div class="checkout-account mb-25">
                                    <input class="checkout-toggle2" type="checkbox">
                                    <span>Create an account?</span>
                                </div>
                                <div class="checkout-account-toggle open-toggle2 mb-30">
                                    <label>Email Address</label>
                                    <input placeholder="Password" type="password">
                                </div> --}}

                                <div class="checkout-account mt-25">
                                    <input id="addNewAddressToggle" class="checkout-toggle" type="checkbox">
                                    <label for="addNewAddressToggle"> Add New Address</label>
                                </div>

                                <div id="newAddressSection" class="new-address-section" style="display: none;">
                                    <!-- Your new address form or content goes here -->
                                </div>

                                <form id="addressForm" action="/addAddress" method="post">
                                    <div class="different-address open-toggle mt-30">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>First Name</label>
                                                    <input type="text" id="firstName" name="firstName">
                                                    <div id="firstNameError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>Last Name</label>
                                                    <input type="text" id="lastName" name="lastName">
                                                    <div id="lastNameError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="billing-info mb-20">
                                                    <label>Street Address</label>
                                                    <input class="billing-address" id="address" name="address"
                                                        type="text">
                                                    <div id="addressError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="billing-info mb-20">
                                                    <label>Town / City</label>
                                                    <input type="text" id="city" name="city">
                                                    <div id="cityError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>State</label>
                                                    <input type="text" id="state" name="state">
                                                    <div id="stateError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>Postcode</label>
                                                    <input type="text" id="postcode" name="postcode">
                                                    <div id="postcodeError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>Phone</label>
                                                    <input type="text" id="phone" name="phone">
                                                    <div id="phoneError" class="error-message"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6">
                                                <div class="billing-info mb-20">
                                                    <label>Email Address</label>
                                                    <input type="text" id="email" name="email">
                                                    <div id="emailError" class="error-message"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-danger border-top-0" type="submit">SUBMIT</button>
                                    </div>
                                </form>

                                <script>
                                    document.getElementById("addressForm").addEventListener("submit", function (event) {
                                        var isValid = true;

                                        // First Name validation
                                        var firstName = document.getElementById("firstName").value.trim();
                                        if (firstName === "") {
                                            document.getElementById("firstNameError").innerHTML = "Please enter your first name.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("firstNameError").innerHTML = "";
                                        }

                                        // Last Name validation
                                        var lastName = document.getElementById("lastName").value.trim();
                                        if (lastName === "") {
                                            document.getElementById("lastNameError").innerHTML = "Please enter your last name.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("lastNameError").innerHTML = "";
                                        }

                                        // Address validation
                                        var address = document.getElementById("address").value.trim();
                                        if (address === "") {
                                            document.getElementById("addressError").innerHTML = "Please enter your address.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("addressError").innerHTML = "";
                                        }

                                        // City validation
                                        var city = document.getElementById("city").value.trim();
                                        if (city === "") {
                                            document.getElementById("cityError").innerHTML = "Please enter your city.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("cityError").innerHTML = "";
                                        }

                                        // State validation
                                        var state = document.getElementById("state").value.trim();
                                        if (state === "") {
                                            document.getElementById("stateError").innerHTML = "Please enter your state.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("stateError").innerHTML = "";
                                        }

                                        // Postcode validation
                                        var postcode = document.getElementById("postcode").value.trim();
                                        if (postcode === "") {
                                            document.getElementById("postcodeError").innerHTML = "Please enter your postcode.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("postcodeError").innerHTML = "";
                                        }

                                        // Phone validation
                                        var phone = document.getElementById("phone").value.trim();
                                        if (phone === "") {
                                            document.getElementById("phoneError").innerHTML = "Please enter your phone number.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("phoneError").innerHTML = "";
                                        }

                                        // Email validation
                                        var email = document.getElementById("email").value.trim();
                                        if (email === "") {
                                            document.getElementById("emailError").innerHTML = "Please enter your email address.";
                                            isValid = false;
                                        } else if (!isValidEmail(email)) {
                                            document.getElementById("emailError").innerHTML = "Please enter a valid email address.";
                                            isValid = false;
                                        } else {
                                            document.getElementById("emailError").innerHTML = "";
                                        }

                                        if (!isValid) {
                                            event.preventDefault();
                                        }
                                    });

                                    function isValidEmail(email) {
                                        // Regular expression for email validation
                                        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                                        return emailRegex.test(email);
                                    }
                                </script>


                                {{!-- <div class="additional-info-wrap">
                                    <label>Order notes</label>
                                    <textarea placeholder="Notes about your order, e.g. special notes for delivery. "
                                        name="message"></textarea>
                                </div> --}}



                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="your-order-area">
                                <h3>Your order</h3>
                                <div class="your-order-wrap gray-bg-4">

                                    {{#if cart}}

                                    <div class="your-order-info-wrap">
                                        <div class="your-order-info">
                                            <ul>
                                                <li>Product <span>Total</span></li>
                                            </ul>
                                        </div>
                                        {{#each cart.products}}
                                        <div class="your-order-middle">
                                            <ul>
                                                {{!-- <li>{{this.productName}} <span>${{this.total}}</span></li> --}}
                                                <li>{{this.product.name}} <span>₹{{this.total}} </span></li>
                                            </ul>
                                        </div>
                                        {{/each}}
                                        <div class="your-order-info order-subtotal">
                                            <ul>
                                                <li>Subtotal <span>₹{{cart.subtotal}} </span></li>
                                            </ul>
                                        </div>
                                        <div class="your-order-info order-shipping">
                                            <ul>
                                                <li>Shipping <p>₹40</p>
                                                </li>
                                            </ul>
                                        </div>
                                        {{!-- <div class="your-order-info order-shipping">
                                            <ul>
                                                <li>DiscountAmount <p></p>
                                                </li>
                                            </ul>
                                        </div> --}}

                                        <div class="your-order-info order-shipping">
                                            <ul>
                                                <li>Discount Amount: <span id="discount-amount">₹</span></li>
                                            </ul>
                                        </div>

                                        <div class="your-order-info order-total">
                                            <ul>
                                                <li>Total <span id="total-amount">₹{{cart.grandtotal}}</span></li>
                                            </ul>
                                        </div>
                                    </div>


                                    {{/if}}

                                    <div id="order-details">
                                        <!-- Date and Time will be displayed here -->
                                    </div>


                                    <form id="orderForm">



                                        <div class="payment-method">
                                            <div class="pay-top sin-payment">
                                                <input id="payment-method-2" class="input-radio" type="radio"
                                                    value="online" name="paymentMethod">
                                                <label for="payment-method-2">Razorpay</label>
                                                <div class="payment-box payment_method_bacs">
                                                    <p>Make your payment using Razorpay.</p>
                                                </div>
                                            </div>
                                            <div class="pay-top sin-payment">
                                                <input id="payment-method-3" class="input-radio" type="radio"
                                                    value="cod" name="paymentMethod">
                                                <label for="payment-method-3">Cash on delivery </label>
                                                <div class="payment-box payment_method_bacs">
                                                    <p>Pay cash on delivery.</p>
                                                </div>
                                            </div>
                                            <div class="Place-order mt-40">
                                                <button id="placeOrderBtn" class="btn btn-danger" type="button">Place
                                                    Order</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer-area section-padding-2 bg-bluegray pt-80">
            <div class="container-fluid">
                <div class="footer-top pb-40">
                    <div class="row">
                        <div class="col-lg-3 col-md-8 col-12 col-sm-12">
                            <div class="footer-widget mb-30">
                                <a href="#"><img src="assets/images/logo/logo-1.png" alt="logo"></a>
                                <div class="footer-about">
                                    <p>On the other hand, we denounce with righteous indignation and dislike men who are
                                        so beguiled and demoralized by the charms. </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-6 col-sm-6">
                            <div class="footer-widget mb-30 ml-55">
                                <div class="footer-title-3">
                                    <h3>Company</h3>
                                </div>
                                <div class="footer-list-3">
                                    <ul>
                                        <li><a href="about-us.html">About US</a></li>
                                        <li><a href="blog.html">Blogs</a></li>
                                        <li><a href="#">Careers</a></li>
                                        <li><a href="contact.html">Contact</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-6 col-sm-6">
                            <div class="footer-widget mb-30 footer-ngtv-mrg1">
                                <div class="footer-title-3">
                                    <h3>Product</h3>
                                </div>
                                <div class="footer-list-3">
                                    <ul>
                                        <li><a href="#">Pricing</a></li>
                                        <li><a href="#">Features</a></li>
                                        <li><a href="#">Customers</a></li>
                                        <li><a href="#">Demos</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-6 col-sm-6">
                            <div class="footer-widget mb-30 ml-35">
                                <div class="footer-title-3">
                                    <h3>Helps</h3>
                                </div>
                                <div class="footer-list-3">
                                    <ul>
                                        <li><a href="#">Introduction</a></li>
                                        <li><a href="#">Feedback</a></li>
                                        <li><a href="#">Referrals</a></li>
                                        <li><a href="#">Network Status</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-6 col-sm-6">
                            <div class="footer-widget mb-30 ml-135">
                                <div class="footer-title-3">
                                    <h3>Social Netowrk</h3>
                                </div>
                                <div class="footer-list-3">
                                    <ul>
                                        <li><a href="#">Facebook</a></li>
                                        <li><a href="#">Twitter</a></li>
                                        <li><a href="#">Linkedin</a></li>
                                        <li><a href="#">Google +</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom pt-40 border-top-1">
                    <div class="row">
                        <div class="col-xl-7 col-lg-10 col-md-11 ms-auto me-auto">
                            <div class="footer-tag-wrap">
                                <div class="footer-tag-title">
                                    <span>Tags :</span>
                                </div>
                                <div class="footer-tag-list">
                                    <ul>
                                        <li><a href="#">Minimal eCommerce</a></li>
                                        <li><a href="#">Marketing</a></li>
                                        <li><a href="#">User Exprience</a></li>
                                        <li><a href="#">Ali Express</a></li>
                                        <li><a href="#">Web </a></li>
                                        <li><a href="#">Digital Expo</a></li>
                                        <li><a href="#">Web Search</a></li>
                                        <li><a href="#">Affiliate </a></li>
                                        <li><a href="#">UCWeb </a></li>
                                        <li><a href="#">Support </a></li>
                                        <li><a href="#">Theme</a></li>
                                        <li><a href="#">Best Queality </a></li>
                                        <li><a href="#">Mobile </a></li>
                                        <li><a href="#">24 Support</a></li>
                                        <li><a href="#">Ali Express</a></li>
                                        <li><a href="#">Web</a></li>
                                        <li><a href="#"> Laptop</a></li>
                                        <li><a href="#">Web Search</a></li>
                                        <li><a href="#">Affiliate </a></li>
                                        <li><a href="#">Photoshop </a></li>
                                        <li><a href="#">Support </a></li>
                                        <li><a href="#">Theme.</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="copyright-3 text-center pt-20 pb-20 border-top-1">
                        <p>Copyright © <a href="#">Daxone</a>. All Right Reserved</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <!-- JS
============================================ -->

    <!-- Modernizer JS -->
    <script src="assets/js/vendor/modernizr-3.11.7.min.js"></script>
    <!-- Modernizer JS -->
    <script src="assets/js/vendor/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="assets/js/vendor/bootstrap.min.js"></script>

    {{!-- Add new address section show and disable --}}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const addNewAddressToggle = document.getElementById('addNewAddressToggle');
            const newAddressSection = document.getElementById('newAddressSection');

            addNewAddressToggle.addEventListener('change', function () {
                if (this.checked) {
                    newAddressSection.style.display = 'block';
                } else {
                    newAddressSection.style.display = 'none';
                }
            });
        });

    </script>

    {{!-- Razorpay --}}

    <!-- Razorpay -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script>
        document.getElementById("placeOrderBtn").addEventListener("click", async function () {
            const selectedPaymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            const selectedAddress = document.querySelector('input[name="address"]:checked').value;

          const totalAmountSpan = document.getElementById('total-amount');
          const totalAmount = parseFloat(totalAmountSpan.textContent.replace('₹ ', ''));

 
            if (selectedPaymentMethod === "online") {

                try {
                    const response = await fetch('/createRazorpayOrder', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ totalAmount }) // Pass the actual total amount
                    });
                    const data = await response.json();
                    console.log("Razorpay order data:", data);
                    const options = {
                        key: data.key_id,
                        amount: data.order.amount,
                        currency: 'INR',
                        order_id: data.order.id,
                        handler: function (response) {
                            console.log('Razorpay response:', response);

                            fetch('/placeOrder', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({ paymentMethod: "online", selectedAddress,totalAmount })
                            })
                                .then(response => {
                                    if (response.ok) {
                                        window.location.href = '/checkout?success=orderSuccessfully';
                                    } else {
                                        console.error('Error in database update:', response.statusText);
                                        // Handle error
                                    }
                                })
                                .catch(error => {
                                    console.error('Error while saving Razorpay response:', error);
                                    // Handle error
                                });
                        },
                    };
                    const rzp = new Razorpay(options);
                    rzp.open();
                } catch (error) {
                    console.error('Error:', error);
                }
            }

            if (selectedPaymentMethod === "cod") {

                fetch('/placeOrder', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ paymentMethod: "cod", selectedAddress,totalAmount })
                })
                    .then(response => {
                        if (response.ok) {
                            window.location.href = '/checkout?success=orderSuccessfully';
                        } else {
                            console.error('Error in database update:', response.statusText);
                            // Handle error
                        }
                    })
                    .catch(error => {
                        console.error('Error while saving Razorpay response:', error);
                        // Handle error
                    });
            }
        });
    </script>




    

    <!-- Slick Slider JS -->
    <script src="assets/js/plugins/countdown.js"></script>
    <script src="assets/js/plugins/counterup.js"></script>
    <script src="assets/js/plugins/images-loaded.js"></script>
    <script src="assets/js/plugins/isotope.js"></script>
    <script src="assets/js/plugins/instafeed.js"></script>
    <script src="assets/js/plugins/jquery-ui.js"></script>
    <script src="assets/js/plugins/jquery-ui-touch-punch.js"></script>
    <script src="assets/js/plugins/magnific-popup.js"></script>
    <script src="assets/js/plugins/owl-carousel.js"></script>
    <script src="assets/js/plugins/scrollup.js"></script>
    <script src="assets/js/plugins/waypoints.js"></script>
    <script src="assets/js/plugins/slick.js"></script>
    <script src="assets/js/plugins/wow.js"></script>
    <script src="assets/js/plugins/textillate.js"></script>
    <script src="assets/js/plugins/elevatezoom.js"></script>
    <script src="assets/js/plugins/sticky-sidebar.js"></script>
    <script src="assets/js/plugins/smoothscroll.js"></script>
    <!-- Main JS -->
    <script src="assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
</body>


<!-- Mirrored from template.hasthemes.com/daxone/daxone/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 24 Feb 2024 10:44:50 GMT -->

</html>



<script>
    // Function to parse query parameters from URL
    function getQueryParams(url) {
        const queryParams = {};
        const params = new URLSearchParams(url.search);
        for (const param of params) {
            queryParams[param[0]] = param[1];
        }
        return queryParams;
    }

    // Function to display SweetAlert success message
    function displaySuccessAlert() {
        swal("Success", "Order placed successfully!", "success");
    }

    // Function to display order details
    function displayOrderDetails(date, time) {
        document.getElementById('order-details').innerHTML = `<p>Date: ${date}</p><p>Time: ${time}</p>`;
    }

    // Function to display success alert and order details
    function displayOrderConfirmation() {
        const queryParams = getQueryParams(window.location);
        if (queryParams.success === 'orderedplacedsuccessfully') {
            displaySuccessAlert();
            const date = decodeURIComponent(queryParams.date);
            const time = decodeURIComponent(queryParams.time);
            displayOrderDetails(date, time);
        }
    }

    // Call function when the page loads
    window.onload = displayOrderConfirmation;
</script>

<script>
    function redirectToHome() {
        window.location.href = '/';
    }

    function redirectToOrders() {
        window.location.href = '/profile';
    }

    document.addEventListener('DOMContentLoaded', function () {
        const urlParams = new URLSearchParams(window.location.search);
        const success = urlParams.get('success');

        if (success === 'orderSuccessfully') {
            Swal.fire({
                icon: 'success',
                title: 'Order Successful!',
                text: 'Order placed successfully! Thank you for your purchase!',
                showCancelButton: true,
                confirmButtonText: 'Home',
                cancelButtonText: 'Orders'
            }).then((result) => {
                if (result.isConfirmed) {
                    redirectToHome();
                } else {
                    redirectToOrders();
                }
            });
        }
    });
</script>

{{!-- COUPON APPLY CHECKING AND CHECK AND PRICE CHANGE --}}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('coupon-form').addEventListener('submit', async function (event) {
            event.preventDefault(); // Prevent the form from submitting normally

            // Get the coupon code input value
            const couponCode = document.getElementById('coupon-code-input').value.trim(); // Trim to remove whitespace

            // Check if the input is empty
            if (couponCode === '') {
                // Clear error message
                document.getElementById('error-message').textContent = '';
                return; // Exit the function without further processing
            }

            // Call function to send coupon code to the server for validation
            await validateCouponCode(couponCode);
        });

        // Event listener for Remove Coupon button
        document.getElementById('remove-coupon-btn').addEventListener('click', function () {
            // Clear the input field
            document.getElementById('coupon-code-input').value = '';
            // Clear error message
            document.getElementById('error-message').textContent = '';
            // Clear discount amount
            document.getElementById('discount-amount').textContent = '';

            // Reset the total amount to the original grand total
            document.getElementById('total-amount').textContent = `$ {{cart.grandtotal}}`;
        });
    });
    async function validateCouponCode(couponCode) {
        try {
            // Fetch API request to send coupon code to the server
            const response = await fetch('/checkCoupon', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ couponCode: couponCode }) // Convert to JSON string
            });

            // Get response data as JSON
            const data = await response.json();

            // Check if the coupon code is valid
            if (data.valid) {
                // Clear the error message when coupon is successfully applied
                document.getElementById('error-message').textContent = '';

                // Show success message using SweetAlert
                Swal.fire({
                    icon: 'success',
                    title: 'Coupon Applied',
                    text: 'Coupon code applied successfully!',
                    timer: 1000, // Auto close timer in milliseconds (1 second)
                    showConfirmButton: false // Hide the "OK" button
                });

                // Display discount amount
                const discountAmount = data.discountAmount;
                document.getElementById('discount-amount').textContent = `$ ${discountAmount}`;

                // Calculate and display the discounted total
                const grandTotal = parseFloat("{{cart.grandtotal}}");
                const discountedTotal = grandTotal - discountAmount;
                document.getElementById('total-amount').textContent = `$ ${discountedTotal}`;

                // After applying the coupon code, fetch the discount amount to pass to /placeOrder
                await fetch('/placeOrder', {
                    method: 'post',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ couponCode: couponCode }) // Pass coupon code to /placeOrder
                });

            } else {
                // Show error message in <p> tag
                if (response.status === 400) {
                    // If response status is 400, it means the coupon has expired
                    document.getElementById('error-message').textContent = 'Coupon has expired.';
                } else {
                    document.getElementById('error-message').textContent = 'Invalid coupon code. Please try again.';
                }
                // Clear discount amount if coupon is not valid
                document.getElementById('discount-amount').textContent = '';
            }
        } catch (error) {
            console.error('Error validating coupon code:', error);
            alert('An error occurred while validating the coupon code. Please try again later.');
        }
    }

</script>


{{!-- ADD ADDRESS FORM VALIDATION --}}

 

    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    {{!-- Add New Address --}}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const addressRadios = document.querySelectorAll('input[name="address"]');
            const addressDetailsContainer = document.getElementById('addressDetails');

            // Function to update address details based on selected radio button
            function updateAddressDetails() {
                const selectedAddressIndex = document.querySelector('input[name="address"]:checked').value;
                const selectedAddress = address[selectedAddressIndex];
                const addressDetailsHTML = `
                <div class="col-lg-12">
                    <div class="billing-info mb-20">
                        <label>First Name <abbr class="required"  title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.firstName}">
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="billing-info mb-20">
                        <label>Last Name <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.lastName}">
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="billing-info mb-20">
                        <label>Address <abbr class="required" title="required">*</abbr></label>
                        <input class="billing-address" value="${selectedAddress.address}" type="text">
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="billing-info mb-20">
                        <label>Town / City <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.city}">
                    </div>
                </div>
                <div class="col-lg-12 col-md-12">
                    <div class="billing-info mb-20">
                        <label>State <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.state}">
                    </div>
                </div>
                <div class="col-lg-12 col-md-12">
                    <div class="billing-info mb-20">
                        <label>Postcode <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.postcode}">
                    </div>
                </div>
                <div class="col-lg-12 col-md-12">
                    <div class="billing-info mb-20">
                        <label>Phone <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.phone}">
                    </div>
                </div>
                <div class="col-lg-12 col-md-12">
                    <div class="billing-info mb-20">
                        <label>Email Address <abbr class="required" title="required">*</abbr></label>
                        <input type="text" value="${selectedAddress.email}">
                    </div>
                </div>
            `;
                addressDetailsContainer.innerHTML = addressDetailsHTML;
            }

            // Add event listener to each radio button
            addressRadios.forEach(function (radio) {
                radio.addEventListener('change', updateAddressDetails);
            });

            // Initially update address details
            updateAddressDetails();
        });
    </script>